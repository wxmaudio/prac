<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
</head>
<body>
<canvas id="canvas" style="border:1px solid #aaa;display:block;margin:50px auto">
不支持canvas
</canvas>
<script type="text/javascript">
//a ball object
	var ball={
		x:512,
		y:100,
		r:20,
		g:3,
		vx:-4,
		vy:-10,
		color:"#005588"
	}

	window.onload= function () {
		var canvas = document.getElementById('canvas');

		canvas.width= 1024;
		canvas.height = 768;

		var ctx = canvas.getContext("2d");

		//循环绘制
		setInterval(function(){
          render(ctx);
          update();
		},50);
	}

	function render(ctx){
		ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);

		ctx.fillStyle = ball.color;
		ctx.beginPath();
		ctx.arc(ball.x, ball.y, ball.r, 0,2*Math.PI, true);
		ctx.closePath();

    	ctx.fill();
	}

	function update(){
		ball.x += ball.vx;
		ball.y += ball.vy;
		ball.vy += ball.g;

		//碰撞检测
		if(ball.y > 768 - ball.r){
			ball.vy = -ball.vy*0.7;//0.7为摩擦因子
		}
	}
</script>
</body>
</html>